<!doctype html><html class=no-js lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using Github Actions for Automated Testing and Deployment - Learnings in IT</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:url" content="http://localhost:1313/posts/usinggithubactions/"><meta property="og:site_name" content="Learnings in IT"><meta property="og:title" content="Using Github Actions for Automated Testing and Deployment"><meta property="og:description" content="Background The source code of tracfee.com is hosted on Github Private.
At a High level, Tracfee’s Architecture involves,
Single Page Application using VueJS, deployed on Netlify API in Go, deployed on Oracle Cloud So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-28T10:25:04+05:30"><meta property="article:modified_time" content="2020-05-28T10:25:04+05:30"><meta itemprop=name content="Using Github Actions for Automated Testing and Deployment"><meta itemprop=description content="Background The source code of tracfee.com is hosted on Github Private.
At a High level, Tracfee’s Architecture involves,
Single Page Application using VueJS, deployed on Netlify API in Go, deployed on Oracle Cloud So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify."><meta itemprop=datePublished content="2020-05-28T10:25:04+05:30"><meta itemprop=dateModified content="2020-05-28T10:25:04+05:30"><meta itemprop=wordCount content="410"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Github Actions for Automated Testing and Deployment"><meta name=twitter:description content="Background The source code of tracfee.com is hosted on Github Private.
At a High level, Tracfee’s Architecture involves,
Single Page Application using VueJS, deployed on Netlify API in Go, deployed on Oracle Cloud So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify."><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Learnings in IT" rel=home><div class="logo__item logo__text"><div class=logo__title>Learnings in IT</div><div class=logo__tagline>A Simple Technical Blog</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li><li class=menu__item><a class=menu__link href=/posts/><span class=menu__text>Blog</span></a></li><li class=menu__item><a class=menu__link href=/projects/><span class=menu__text>Projects</span></a></li><li class=menu__item><a class=menu__link href=https://gist.github.com/sachinsu><span class=menu__text>Gists</span></a></li><li class=menu__item><a class=menu__link href=/links/home><span class=menu__text>Useful Links</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Using Github Actions for Automated Testing and Deployment</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2020-05-28T10:25:04+05:30>May 28 2020</time></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#using-github-actions>Using Github actions</a></li><li><a href=#testing-the-build-workflow>Testing the Build Workflow</a><ul><li><a href=#useful-references>Useful References,</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><h2 id=background>Background</h2><p>The source code of <a href=https://tracfee.com target=_blank rel="noopener noreferrer">tracfee.com</a> is hosted on Github Private.</p><p>At a High level, Tracfee&rsquo;s Architecture involves,</p><ul><li>Single Page Application using VueJS, deployed on <a href=https://netlify.com target=_blank rel="noopener noreferrer">Netlify</a></li><li>API in <a href=https://golang.org target=_blank rel="noopener noreferrer">Go</a>, deployed on <a href=https://www.oracle.com/in/cloud/ target=_blank rel="noopener noreferrer">Oracle Cloud</a></li></ul><p>So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify.</p><p>Accordingly, it was decided to explore Github actions to automate deployment.</p><h2 id=using-github-actions>Using Github actions</h2><p>As per <a href=https://github.com/features/actions target=_blank rel="noopener noreferrer">Github</a>,</p><pre tabindex=0><code>GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and deploy your code right from GitHub. Make code reviews, branch management, and issue triaging work the way you want.
</code></pre><p>GitHub actions work by provisioning Virtual machine to run an Event based workflow. It provides option to provision Linux/MacOS/Windows based Virtual machines. Steps in Workflow will have to be configured in <a href=https://yaml.org target=_blank rel="noopener noreferrer">YAML</a> file. Trigger for Workflow can be (but not limited to) wide variety of events like on Push or commit on branch and so on.</p><p>Post trigger, set of action(s) can be configured like,</p><ul><li>Checkout the branch</li><li>Setup environment (Install <a href=https://github.com/actions/setup-node target=_blank rel="noopener noreferrer">Node.JS</a>)</li><li>Perform build</li><li>Deployment</li></ul><p>Github has Marketplace which has many pre-built actions available. My requirement was to,</p><ul><li>Provision Linux (i.e. ubuntu-latest) Virtual Machine</li><li>Checkout the code (using <a href=https://github.com/actions/checkout target=_blank rel="noopener noreferrer">actions/checkout@v2</a>)</li><li>Setup Node.js (using <a href=https://github.com/actions/setup-node target=_blank rel="noopener noreferrer">actions/setup-node</a>)</li><li>perform Build and test using <a href=https://www.npmjs.com/ target=_blank rel="noopener noreferrer">NPM</a></li><li>Deploy to Netlify using <a href=https://github.com/netlify/actions target=_blank rel="noopener noreferrer">netlify/actions/cli@master</a></li><li>Any secrets required as part of Workflow can be maintained using <a href=https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets target=_blank rel="noopener noreferrer">Github secrets</a></li></ul><p>Above workflow needs to be maintained in <code>.github\workflows</code> folder in the repository.</p><p>build.yml for <a href=https://tracfee.com target=_blank rel="noopener noreferrer">tracfee.com</a> looks like,</p><iframe src=//carbon.now.sh/embed/f98fbca1049e15f0360c140610fa4cc4 style=transform:scale(.9);width:1024px;height:473px;border:0;overflow:hidden sandbox="allow-scripts allow-same-origin"></iframe><p>Refer Gist <a href=https://gist.github.com/sachinsu/f98fbca1049e15f0360c140610fa4cc4 target=_blank rel="noopener noreferrer">here</a>.</p><h2 id=testing-the-build-workflow>Testing the Build Workflow</h2><p>After configuring the workflow steps, next question is to check whether it is possible to test it locally? Luckily, there is tool available to do this. Enter <a href=https://github.com/nektos/act target=_blank rel="noopener noreferrer">Act</a> , which is a tool to <code>Run your GitHub Actions locally </code>. Local testing is useful for Faster feedback. In Nutshell, Act uses local docker setup to provision container and then runs workflow steps in it. Give it a try !!</p><p>As a next step, Plan is to automate deployment of API on Oracle Cloud using OCI CLI interface.</p><h3 id=useful-references>Useful References,</h3><ul><li><a href=https://medium.com/@MarekPukaj/build-with-github-actions-host-on-netlify-ebf5fa505616 target=_blank rel="noopener noreferrer">Build with GitHub Actions, host on Netlify</a></li><li><a href=https://blogs.oracle.com/developers/adventures-in-cicd-4-deploying-a-microservice-to-the-oracle-cloud-with-github-actions-oci-cli-edition target=_blank rel="noopener noreferrer">Adventures in CI/CD [#4]: Deploying A Microservice To The Oracle Cloud With GitHub Actions [OCI CLI Edition]</a></li></ul><p>Happy Coding !!</p><hr><script src=https://utteranc.es/client.js repo=sachinsu/sachinsu.github.io issue-term=title label=blogcomment theme=github-light crossorigin=anonymous async></script></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/posts/windowsservicecancellabletask/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Windows Service with Cancelable Task</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/posts/webassembly/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Is WebAssembly future of Web Development</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 Sachin Sunkle.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>