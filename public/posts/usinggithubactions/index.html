<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Using Github Actions for Automated Testing and Deployment | Learnings in IT</title>
<meta name="keywords" content="">
<meta name="description" content="Background
The source code of tracfee.com is hosted on Github Private.
At a High level, Tracfee&rsquo;s Architecture involves,

Single Page Application using VueJS, deployed on Netlify
API in Go, deployed on Oracle Cloud

So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify.">
<meta name="author" content="map[name:Sachin Sunkle]">
<link rel="canonical" href="http://localhost:1313/posts/usinggithubactions/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/usinggithubactions/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Learnings in IT (Alt + H)">Learnings in IT</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://gist.github.com/sachinsu" title="Gists">
                    <span>Gists</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/links/home" title="Useful Links">
                    <span>Useful Links</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Using Github Actions for Automated Testing and Deployment
    </h1>
    <div class="post-meta"><span title='2020-05-28 10:25:04 +0530 IST'>May 28 2020</span>&nbsp;·&nbsp;map[name:Sachin Sunkle]

</div>
  </header> 
  <div class="post-content"><h2 id="background">Background<a hidden class="anchor" aria-hidden="true" href="#background">#</a></h2>
<p>The source code of <a href=https://tracfee.com
    
    target=_blank rel="noopener noreferrer"
>tracfee.com</a> is hosted on Github Private.</p>
<p>At a High level, Tracfee&rsquo;s Architecture involves,</p>
<ul>
<li>Single Page Application using VueJS, deployed on <a href=https://netlify.com
    
    target=_blank rel="noopener noreferrer"
>Netlify</a></li>
<li>API in <a href=https://golang.org
    
    target=_blank rel="noopener noreferrer"
>Go</a>, deployed on <a href=https://www.oracle.com/in/cloud/
    
    target=_blank rel="noopener noreferrer"
>Oracle Cloud</a></li>
</ul>
<p>So far, API testing has been automated and we were looking at ways to automate deployment of both UI and API. Steps required to deploy API are less since we are using Docker to run it on VM. However, in case of Netlify, it is required to build and then upload the output folder on Netlify.</p>
<p>Accordingly, it was decided to explore Github actions to automate deployment.</p>
<h2 id="using-github-actions">Using Github actions<a hidden class="anchor" aria-hidden="true" href="#using-github-actions">#</a></h2>
<p>As per <a href=https://github.com/features/actions
    
    target=_blank rel="noopener noreferrer"
>Github</a>,</p>
<pre tabindex="0"><code>GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and deploy your code right from GitHub. Make code reviews, branch management, and issue triaging work the way you want.
</code></pre><p>GitHub actions work by provisioning Virtual machine to run an Event based workflow. It provides option to provision Linux/MacOS/Windows based Virtual machines. Steps in Workflow will have to be configured in <a href=https://yaml.org
    
    target=_blank rel="noopener noreferrer"
>YAML</a> file. Trigger for Workflow can be (but not limited to) wide variety of events like on Push or commit on branch and so on.</p>
<p>Post trigger, set of action(s) can be configured like,</p>
<ul>
<li>Checkout the branch</li>
<li>Setup environment (Install <a href=https://github.com/actions/setup-node
    
    target=_blank rel="noopener noreferrer"
>Node.JS</a>)</li>
<li>Perform build</li>
<li>Deployment</li>
</ul>
<p>Github has Marketplace which has many pre-built actions available. My requirement was to,</p>
<ul>
<li>Provision Linux (i.e. ubuntu-latest) Virtual Machine</li>
<li>Checkout the code (using <a href=https://github.com/actions/checkout
    
    target=_blank rel="noopener noreferrer"
>actions/checkout@v2</a>)</li>
<li>Setup Node.js (using <a href=https://github.com/actions/setup-node
    
    target=_blank rel="noopener noreferrer"
>actions/setup-node</a>)</li>
<li>perform Build and test using <a href=https://www.npmjs.com/
    
    target=_blank rel="noopener noreferrer"
>NPM</a></li>
<li>Deploy to Netlify using <a href=https://github.com/netlify/actions
    
    target=_blank rel="noopener noreferrer"
>netlify/actions/cli@master</a></li>
<li>Any secrets required as part of Workflow can be maintained using <a href=https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets
    
    target=_blank rel="noopener noreferrer"
>Github secrets</a></li>
</ul>
<p>Above workflow needs to be maintained in <code>.github\workflows</code> folder in the repository.</p>
<p>build.yml for <a href=https://tracfee.com
    
    target=_blank rel="noopener noreferrer"
>tracfee.com</a> looks like,</p>

<iframe src="//carbon.now.sh/embed/f98fbca1049e15f0360c140610fa4cc4"
    style="transform:scale(0.9); width:1024px; height:473px; border:0; overflow:hidden;"
    sandbox="allow-scripts allow-same-origin">
</iframe>

<p>Refer Gist <a href=https://gist.github.com/sachinsu/f98fbca1049e15f0360c140610fa4cc4
    
    target=_blank rel="noopener noreferrer"
>here</a>.</p>
<h2 id="testing-the-build-workflow">Testing the Build Workflow<a hidden class="anchor" aria-hidden="true" href="#testing-the-build-workflow">#</a></h2>
<p>After configuring the workflow steps, next question is to check whether it is possible to test it locally? Luckily, there is tool available to do this. Enter <a href=https://github.com/nektos/act
    
    target=_blank rel="noopener noreferrer"
>Act</a> , which is a tool to  <code>Run your GitHub Actions locally </code>.  Local testing is useful for Faster feedback. In Nutshell, Act uses local docker setup to provision container and then runs workflow steps in it. Give it a try !!</p>
<p>As a next step, Plan is to automate deployment of API on Oracle Cloud using OCI CLI interface.</p>
<h3 id="useful-references">Useful References,<a hidden class="anchor" aria-hidden="true" href="#useful-references">#</a></h3>
<ul>
<li><a href=https://medium.com/@MarekPukaj/build-with-github-actions-host-on-netlify-ebf5fa505616
    
    target=_blank rel="noopener noreferrer"
>Build with GitHub Actions, host on Netlify</a></li>
<li><a href=https://blogs.oracle.com/developers/adventures-in-cicd-4-deploying-a-microservice-to-the-oracle-cloud-with-github-actions-oci-cli-edition
    
    target=_blank rel="noopener noreferrer"
>Adventures in CI/CD [#4]: Deploying A Microservice To The Oracle Cloud With GitHub Actions [OCI CLI Edition]</a></li>
</ul>
<p>Happy Coding !!</p>
<hr>
<script src="https://utteranc.es/client.js" repo="sachinsu/sachinsu.github.io" issue-term="title" label="blogcomment"
    theme="github-light" crossorigin="anonymous" async></script>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Learnings in IT</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
