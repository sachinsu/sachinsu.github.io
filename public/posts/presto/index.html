<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Presto - A distributed SQL Engine for variety of data stores - Learnings in IT</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="http://localhost:1313/posts/presto/">
  <meta property="og:site_name" content="Learnings in IT">
  <meta property="og:title" content="Presto - A distributed SQL Engine for variety of data stores">
  <meta property="og:description" content="Introduction In a company/enterprise, typically there are multiple sources of data. This could be result of M&amp;A (where each of those add in a new data store) or result of multi year process of using data stores that are in vogue at that time. Result is combination of various types of relational databases, flat file systems, queues and so on. This results in Data Silos. This scenario is typically observed in companies who are running workloads On-prem (i.e. Pre-cloud, Companies who started on Cloud or have moved to it, typically tend to organize data platform better. This could be because of ease of migrating data on cloud. Typically, they centralize it around cheaper object storage (say AWS S3)).">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-03-29T10:25:04+05:30">
    <meta property="article:modified_time" content="2021-03-29T10:25:04+05:30">
    <meta property="article:tag" content="Presto">
    <meta property="article:tag" content="SQL">
    <meta property="article:tag" content="Database">
    <meta property="article:tag" content="Parquet">
    <meta property="article:tag" content="Analytics">
    <meta property="article:tag" content="Trino">

		
  <meta itemprop="name" content="Presto - A distributed SQL Engine for variety of data stores">
  <meta itemprop="description" content="Introduction In a company/enterprise, typically there are multiple sources of data. This could be result of M&amp;A (where each of those add in a new data store) or result of multi year process of using data stores that are in vogue at that time. Result is combination of various types of relational databases, flat file systems, queues and so on. This results in Data Silos. This scenario is typically observed in companies who are running workloads On-prem (i.e. Pre-cloud, Companies who started on Cloud or have moved to it, typically tend to organize data platform better. This could be because of ease of migrating data on cloud. Typically, they centralize it around cheaper object storage (say AWS S3)).">
  <meta itemprop="datePublished" content="2021-03-29T10:25:04+05:30">
  <meta itemprop="dateModified" content="2021-03-29T10:25:04+05:30">
  <meta itemprop="wordCount" content="861">
  <meta itemprop="keywords" content="Presto,SQL,Database,Parquet,Analytics,Trino">
		
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Presto - A distributed SQL Engine for variety of data stores">
  <meta name="twitter:description" content="Introduction In a company/enterprise, typically there are multiple sources of data. This could be result of M&amp;A (where each of those add in a new data store) or result of multi year process of using data stores that are in vogue at that time. Result is combination of various types of relational databases, flat file systems, queues and so on. This results in Data Silos. This scenario is typically observed in companies who are running workloads On-prem (i.e. Pre-cloud, Companies who started on Cloud or have moved to it, typically tend to organize data platform better. This could be because of ease of migrating data on cloud. Typically, they centralize it around cheaper object storage (say AWS S3)).">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Learnings in IT" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Learnings in IT</div>
					<div class="logo__tagline">A Simple Technical Blog</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts/">
				
				<span class="menu__text">Blog</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/projects/">
				
				<span class="menu__text">Projects</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="https://gist.github.com/sachinsu">
				
				<span class="menu__text">Gists</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/links/home">
				
				<span class="menu__text">Useful Links</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Presto - A distributed SQL Engine for variety of data stores</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2021-03-29T10:25:04&#43;05:30">Mar 29 2021</time></div></div>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#useful-referencesinteresting-links">Useful References/Interesting Links,</a></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<h2 id="introduction">Introduction</h2>
<p>In a company/enterprise, typically there are multiple sources of data. This could be result of M&amp;A (where each of those add in a new data store) or result of multi year process of using data stores that are in vogue at that time. Result is combination of various types of relational databases, flat file systems, queues and so on. This results in Data Silos. This scenario is typically observed in companies who are running workloads On-prem (i.e. Pre-cloud, Companies who started on Cloud or have moved to it, typically tend to organize data platform better. This could be because of ease of migrating data on cloud. Typically, they centralize it around cheaper object storage (say AWS S3)).</p>
<p>Company will want to utilize this data, accumulated over the years, for business intelligence, machine learning purposes. Usually, it would require querying efficiently across these data sources or first collecting all the data in central location (say Data Lake or Operational Data store) and then querying on it.</p>
<p>Overall, below are the widely adopted approaches,</p>
<ul>
<li>
<p><strong>Data warehouse with ETL Approach</strong> - This involves extracting data from Transactional systems (OLTP), ERP, Events store and so on. Transforming the same and then loading it into Data warehouse which is typically a store used for Analytics. Whole process is orchestrated as workflow using ETL Tools.</p>
</li>
<li>
<p><strong>Lakehouse</strong> - Many companies have two different types of storate: Data Lake and Data warehouse. The data warehouse handles <code>offline</code> analytics, such as BI dashboards and reports, that describe what has or is happening in a business.  The data lake is store for raw data (including unstructured). Instead of ETL (Extract - Transform - Load), ELT (Extract - Load - Transform) approach is followed where data from transactional system is loaded into Data Lake. Later, it is transformed/processed for analytics purposes and loaded in data warehouse. Alternatively, there is a trend where data lake itself is used for trend and/or predictive analytics. Data lake is usually based on cheaper, object storage with data stored using open formats (like Parquet , ORC etc.) favouring columnar approach. Columnar store is typically favoured for analytics over relational one.</p>
</li>
</ul>
<p>As explained in <a href=https://a16z.com/2020/10/15/the-emerging-architectures-for-modern-data-infrastructure/
    
    target=_blank rel="noopener noreferrer"
>Emerging Architecture for Data Infrastructure</a>,</p>
<ul>
<li>Data warehouse is used for analytics use cases i.e. help business make better decisions.</li>
<li>Data lake is used for operational use cases.</li>
</ul>
<p>All the above approaches typically assume rather large volume of data being handled. Then what can be approach for companies who are having moderate amount of data (few terabytes) and still want to derive actionable insights from it. Such companies are unlikely to have big data systems like HDFC in place.</p>
<p>For these cases, One may consider <a href=https://prestodb.io/
    
    target=_blank rel="noopener noreferrer"
>Presto</a> a.k.a. <a href=https://trino.io
    
    target=_blank rel="noopener noreferrer"
>Trino</a>. At it&rsquo;s core, Presto translates SQL queries (it supports <strong>ANSI SQL</strong>) into whatever query language is necessary to access the underlying storage medium. Storage medium could be a Elasticsearch cluster, or a set of Parquet files on HDFS, or a relational database.</p>
<p>Presto uses <em>MPP</em> (Massively parallel processing) architecture in which it has,</p>
<ul>
<li><code>Coordinator</code> node - responsible for creating query plan and distributing the work among workers.</li>
<li><code>Worker</code> node(s) - they push down predicates to those data sources. Only the data necessary to compute join is retrieved. All workers operate in parallel mode.</li>
</ul>
<p>Presto provides many <a href=https://trino.io/docs/current/connector.html
    
    target=_blank rel="noopener noreferrer"
>connectors</a> like below (but not limited to),</p>
<ul>
<li><em>Relational Databases</em>
<ul>
<li>MySQL</li>
<li>PostGres</li>
<li>SQL Server</li>
</ul>
</li>
<li><em>Non-relational Databases</em>
<ul>
<li>Mongodb</li>
<li>Redis</li>
<li>Cassandra</li>
</ul>
</li>
<li><em>Columnar file formats like ORC, Parquet and Avro – stored on:</em>
<ul>
<li>Amazon S3</li>
<li>Google Cloud Store</li>
<li>Azure Blog Store</li>
<li>HDFS</li>
<li>Clustered file systems</li>
</ul>
</li>
</ul>
<p>It&rsquo;s important to note that Presto does not write intermidiate results to disk, Hence worker nodes are expected to be optimized for processing and memory  over storage. A Single Presto query can combine data from multiple sources. Most importantly, Presto can work without Hadoop. Presto has cost-based optimizer which means query plan takes into account the time cost associated with executing that plan and can therefore do various types of optimizations around join ordering and the sequence with which you execute that query plan to deliver the fastest level of performance.</p>
<p>Below is apt representation of how Presto works (Ref: <a href=https://prestodb.io
    
    target=_blank rel="noopener noreferrer"
>prestodb.io</a>)</p>
<figure><img src="https://prestodb.io/img/presto-overview-2.png"><figcaption>
      <h4>Where Presto fits</h4>
    </figcaption>
</figure>

<figure><img src="https://prestodb.io/img/presto-architecture.png"><figcaption>
      <h4>Typical Presto Deployment</h4>
    </figcaption>
</figure>

<p>Typical use cases for Presto are,</p>
<ul>
<li>Ad-hoc, Interactive Analytics</li>
<li>Batch ETL processing.</li>
<li>Centralized Data Access with Query Federation</li>
</ul>
<p>From the consumption perspective, Presto Offers CLI as well as JDBC Driver. However, there are many <a href=https://trino.io/resources.html
    
    target=_blank rel="noopener noreferrer"
>language specific clients</a> available from Community.</p>
<p>Key points to note while considering Presto,</p>
<ul>
<li>No need for complex ETL/ELT processes and related Monitoring.</li>
<li>No need to provision for  specialized data store for Data Lake and/or Data warehouse.
<ul>
<li><em>However, this may not hold true if Query results from Presto are required to persisted. Although, overall efforts and cost will much lower.</em></li>
<li><em>This would also mean that existing data stores need to maintain historical data too</em></li>
</ul>
</li>
<li>Any specific use cases not suitable for Presto will have to be alternatively approached.</li>
</ul>
<p>Some of the points to explore further would be ,</p>
<ul>
<li>Given that Presto does not use storage on its own, how can one perform Capacity planning given the expected workflow ?</li>
<li>How are failures handled?</li>
</ul>
<h3 id="useful-referencesinteresting-links">Useful References/Interesting Links,</h3>
<ul>
<li><a href=https://trino.io
    
    target=_blank rel="noopener noreferrer"
>Trino</a></li>
<li><a href=https://github.com/treasure-data/prestogres/
    
    target=_blank rel="noopener noreferrer"
>PostgreSQL protocol gateway for Presto distributed SQL query engine</a></li>
</ul>
<p>Happy Coding !!</p>
<hr>
<script src="https://utteranc.es/client.js" repo="sachinsu/sachinsu.github.io" issue-term="title" label="blogcomment"
    theme="github-light" crossorigin="anonymous" async></script>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/presto/" rel="tag">Presto</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/sql/" rel="tag">SQL</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/database/" rel="tag">Database</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/parquet/" rel="tag">Parquet</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/analytics/" rel="tag">Analytics</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/trino/" rel="tag">Trino</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/elt/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ELT approach for Data Pipelines</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/apiupgrade/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Upgrading API: Learnings</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 Sachin Sunkle.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>